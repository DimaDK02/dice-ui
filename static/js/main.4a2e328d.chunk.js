(this["webpackJsonpdice-ui"]=this["webpackJsonpdice-ui"]||[]).push([[0],{164:function(e,t,n){"use strict";n.r(t);var c=n(1),r=n.n(c),i=n(35),o=n.n(i),a=function(e){e&&n.e(3).then(n.bind(null,171)).then((function(t){var n=t.getCLS,c=t.getFID,r=t.getFCP,i=t.getLCP,o=t.getTTFB;n(e),c(e),r(e),i(e),o(e)}))},s=n(168),u=n(12),l=n(51),d=function e(){Object(l.a)(this,e)};d.isProductionMode=!0;var f=n(6);function j(e){var t=e.children;return d.isProductionMode?Object(f.jsx)(s.a,{fallback:function(e){var t=e.error,n=e.componentStack,c=e.resetError;return Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)("div",{children:"\u041e\u0448\u0438\u0431\u043a\u0430 \u043e\u0442\u0440\u0438\u0441\u043e\u0432\u043a\u0438:"}),Object(f.jsx)("p",{children:t.message}),Object(f.jsx)("p",{children:n}),Object(f.jsx)(u.c,{onClick:c,children:"\u041f\u043e\u043f\u0440\u043e\u0431\u043e\u0432\u0430\u0442\u044c \u0435\u0449\u0435 \u0440\u0430\u0437"})]})},children:t}):t}var b=n(13),h=n(170),p=n(26),O=n.n(p);function g(e){var t=e.loadingUser,n=e.popout,r=Object(c.useState)(!1),i=Object(b.a)(r,2),o=i[0],a=i[1],s=Object(c.useState)("dice"),l=Object(b.a)(s,2),d=l[0],j=(l[1],Object(c.useState)("home")),h=Object(b.a)(j,2),p=h[0];h[1];Object(c.useEffect)((function(){var e;return t?e=window.setTimeout((function(){a(!0)}),200):a(!1),function(){clearTimeout(e)}}),[t]);var O=null;return n?O=n:t&&o&&(O=Object(f.jsx)(u.g,{})),Object(f.jsx)(u.d,{activeStory:d,tabbar:Object(f.jsx)(u.h,{children:Object(f.jsx)(u.i,{text:"\u0413\u043b\u0430\u0432\u043d\u0430\u044f",selected:"dice"===d,onClick:function(){throw new Error("test")}})}),children:Object(f.jsx)(u.j,{id:"dice",activePanel:p,popout:O,children:Object(f.jsx)(u.e,{id:"home",children:"main"})})})}var v,x=n(22),m=n.n(x),w=n(30),E=n(54),S=(v={init:function(){return Object(w.a)(m.a.mark((function e(){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log("Init tracker");case 1:case"end":return e.stop()}}),e)})))()},identify:function(e){return Object(w.a)(m.a.mark((function t(){return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:console.log("linked session with vkId ".concat(e));case 1:case"end":return t.stop()}}),t)})))()},reachGoal:function(e,t){return Object(w.a)(m.a.mark((function n(){return m.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:t?console.log("Reach goal ".concat(e," with params"),t):console.log("Reach goal ".concat(e));case 1:case"end":return n.stop()}}),n)})))()}},Object(E.a)({AUTOMATIC_OPERATIONS:["*"]},v)),k=d.isProductionMode?[]:[S];function A(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),c=1;c<t;c++)n[c-1]=arguments[c];k.forEach((function(t){if("*"===t.AUTOMATIC_OPERATIONS[0]||t.AUTOMATIC_OPERATIONS.includes(e)){var c=t[e];if("function"!==typeof c)throw new Error("Invalid tracker method: ".concat(e));c.apply(void 0,n)}}))}var I,y=function(e){A("identify",e)},T=function(){A("init")},C=function(e,t){A("reachGoal",e,t)};function P(e){var t=e.children,n=Object(c.useState)(null),r=Object(b.a)(n,2),i=r[0],o=r[1],a=Object(c.useState)(!1),s=Object(b.a)(a,2),u=s[0],l=s[1];function d(){return(d=Object(w.a)(m.a.mark((function e(){var t,n,c=arguments;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=c.length>0&&void 0!==c[0]&&c[0],l(!0),e.prev=2,e.next=5,O.a.send("VKWebAppGetUserInfo");case 5:n=e.sent,o(n),t&&y(n.id);case 8:return e.prev=8,l(!1),e.finish(8);case 11:case"end":return e.stop()}}),e,null,[[2,,8,11]])})))).apply(this,arguments)}return Object(c.useEffect)((function(){!function(){d.apply(this,arguments)}(!0)}),[]),t({user:i,loadingUser:u})}!function(e){e.bright_light="bright_light",e.space_gray="space_gray"}(I||(I={}));n(163);function U(){var e=Object(c.useState)(null),t=Object(b.a)(e,2),n=t[0],r=t[1],i=Object(c.useState)(I.bright_light),o=Object(b.a)(i,2),a=o[0],s=o[1];return Object(c.useEffect)((function(){O.a.send("VKWebAppInit"),O.a.subscribe((function(e){var t=e.detail,n=t.type,c=t.data;"VKWebAppUpdateConfig"===n&&s(c.scheme||I.bright_light)}))}),[]),Object(c.useEffect)((function(){var e=document.createAttribute("scheme");e.value=a,document.body.attributes.setNamedItem(e)}),[a]),Object(c.useEffect)((function(){d.isProductionMode&&h.a({dsn:"",beforeSend:function(e,t){if(e.exception){var n=t&&t.originalException&&t.originalException instanceof Error&&t.originalException.message?t.originalException.message:"";r(Object(f.jsxs)(u.a,{actions:[{mode:"default",title:"\u041e\u041a",autoclose:!0}],onClose:function(){return r(null)},children:[Object(f.jsx)("h3",{children:"\u0412\u043e\u0437\u043d\u0438\u043a\u043b\u0430 \u043e\u0448\u0438\u0431\u043a\u0430 =("}),n&&Object(f.jsx)("p",{children:n}),Object(f.jsx)("p",{children:"\u041f\u043e\u043f\u0440\u043e\u0431\u0443\u0439 \u0435\u0449\u0435 \u0440\u0430\u0437"})]}))}return e}}),T(),C("open app")}),[]),Object(f.jsx)(u.b,{children:Object(f.jsx)(P,{children:function(e){var t=e.loadingUser;return Object(f.jsx)(g,{loadingUser:t,popout:n})}})})}o.a.render(Object(f.jsx)(r.a.StrictMode,{children:Object(f.jsx)(j,{children:Object(f.jsx)(U,{})})}),document.getElementById("root")),a()}},[[164,1,2]]]);
//# sourceMappingURL=main.4a2e328d.chunk.js.map